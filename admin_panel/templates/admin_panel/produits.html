<!DOCTYPE html>
<html lang="FR">

<head>
<meta charset="UTF-8">
<title>Admin Dashboard - Produits</title>
{% load static %}
<!
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="{% static "vendor/bootstrap-4.1/bootstrap.min.css" %}">

<link rel="stylesheet" href="{% static "vendor/font-awesome-5/css/fontawesome-all.min.css" %}">
<link href="{% static "vendor/mdi-font/css/material-design-iconic-font.min.css" %}"
	rel="stylesheet" media="all">
<link href="{% static "vendor/datatable/dataTables.bootstrap4.min.css" %}"
	rel="stylesheet" media="all">

<link rel="stylesheet" href ="{% static "style/style.css" %}">
<link rel="stylesheet" href ="{% static "style/theme.css" %}">
<link href="{% static "vendor/css-hamburgers/hamburgers.min.css" %}" rel="stylesheet"
	media="all">

<link rel="stylesheet" href="{% static "style/main.css" %}">

<script src="{% static "vendor/jquery-3.2.1.min.js" %}" ></script>
<script src="{% static "vendor/bootstrap-4.1/popper.min.js" %}"></script>
<script src="{% static "vendor/bootstrap-4.1/bootstrap.min.js" %}"></script>
<script src="{% static "vendor/datatable/jquery.dataTables.min.js" %}"
	type="text/javascript"></script>
<script src="{% static "vendor/datatable/dataTables.bootstrap4.min.js" %}"
	type="text/javascript"></script>
<script src="{% static "vendor/chartjs/Chart.min.js" %}"></script>

</head>
<body>
	<div class="page-wrapper chiller-theme toggled">
		<a id="show-sidebar" class="btn btn-sm btn-dark" href="#"> <i
			class="fas fa-bars"></i>
		</a>
		<nav id="sidebar" class="sidebar-wrapper">
			<div class="sidebar-content">
				<div class="sidebar-brand">
					<a href="{% url 'admin_panel:admin_dashboard' %}" class="h2 pt-2">Market</a> {# Link back to dashboard #}
					<div id="close-sidebar">
						<i class="fas fa-times"></i>
					</div>
				</div>
				<div class="sidebar-header">
					<div class="user-pic">
						<img class="img-responsive img-rounded" src="{% static "img/no-photo.png" %}"
							alt="User picture">
					</div>
					<div class="user-info">
						<span class="user-name"> <strong>{{ username|default:'Admin' }}</strong> {# Display username #}
						</span> <span class="user-role">Admin</span> <span class="user-status">
							<i class="fa fa-circle"></i> <span>Online</span>
						</span>
					</div>
				</div>
				<!-- sidebar-header  -->

				<!-- sidebar-menu -->
				<div class="sidebar-menu">
					<ul>
						<li class="header-menu"><span>Gestion</span></li>
						<li class="active"> {# Highlight Produits as active #}
							<a href="{% url 'admin_panel:produits' %}">
								<i class="zmdi zmdi-hc-1x zmdi-group-work"></i>Produits
							</a>
						</li>
						<li>
							<a> {# Placeholder for Categorie link #}
								<i class="zmdi zmdi-hc-1x zmdi-group-work"></i>Categorie
							</a>
						</li>
						<li>
							<a> {# Placeholder for Salle link #}
								<i class="zmdi zmdi-hc-1x zmdi-group-work"></i>Salle
							</a>
						</li>
						<li>
							<a> {# Placeholder for Marques link #}
								<i class="zmdi zmdi-hc-1x zmdi-group-work"></i>Marques
							</a>
						</li>
						<li>
							<a> {# Placeholder for Machines link #}
								<i class="zmdi zmdi-hc-1x zmdi-group-work"></i>Machines
							</a>
						</li>
						<li>
							<a> {# Placeholder for Statistiques link #}
								<i class="zmdi zmdi-hc-1x zmdi-group-work"></i>Statistiques
							</a>
						</li>
					</ul>
				</div>
				<!-- sidebar-menu  -->
			</div>
			<!-- sidebar-content  -->
			<div class="sidebar-footer">
				<a> {# Placeholder for logout link #}
					<i class="fa fa-power-off"></i> <span>Déconnexion</span>
				</a>
			</div>
		</nav>
		<!-- sidebar-wrapper  -->

		<!-- Page Content -->
		<main class="page-content">
			<div class="container-fluid">
				<h2>Liste des Produits</h2>
				<hr>
				<div class="row">
					<div class="col-md-12">
						<table class="table table-striped table-bordered" id="produitsTable">
							<thead>
								<tr>
									<th>Désignation</th>
									<th>Prix Unitaire (€)</th>
									<th>Quantité</th>
									<th>Seuil d'Alerte</th>
									<th>Fournisseur</th>
									<th>Statut Stock</th>
								</tr>
							</thead>
							<tbody>
								{% for produit in produits %}
								<tr>
									<td>{{ produit.designation }}</td>
									<td>{{ produit.prix_unitaire }}</td>
									<td>{{ produit.quantite }}</td>
									<td>{{ produit.alert_quantite }}</td>
									<td>{{ produit.fournisseur.nom }}</td>
									<td>
										{% if produit.is_below_alert_level %}
											<span class="badge badge-danger">Stock Faible</span>
										{% else %}
											<span class="badge badge-success">En Stock</span>
										{% endif %}
									</td>
								</tr>
								{% empty %}
								<tr>
									<td colspan="6" class="text-center">Aucun produit trouvé.</td>
								</tr>
								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</main>
		<!-- page-content" -->
    </div>


</body>

	<!-- page-wrapper-->
<script>
$(document).ready(function() {
    $('#produitsTable').DataTable(); // Initialize DataTables
});
</script>
<script src="{% static "script/redirect.js" %}"></script>
<script src="{% static "vendor/slick/slick.min.js" %}"></script>
<script src="{% static "vendor/wow/wow.min.js" %}"></script>
<script src="{% static "vendor/animsition/animsition.min.js" %}"></script>
<script src="{% static "vendor/bootstrap-progressbar/bootstrap-progressbar.min.js" %}"></script>
<script src="{% static "vendor/counter-up/jquery.waypoints.min.js" %}"></script>
<script src="{% static "vendor/counter-up/jquery.counterup.min.js" %}"></script>
<script src="{% static "vendor/circle-progress/circle-progress.min.js" %}"></script>
<script src="{% static "vendor/perfect-scrollbar/perfect-scrollbar.js" %}"></script>
<script src="{% static "vendor/chartjs/Chart.bundle.min.js" %}"></script>
<script src="{% static "vendor/select2/select2.min.js" %}"></script>
<script src="{% static "script/index.js" %}"></script>
<script src="{% static "js/main.js" %}"></script>
</html>

